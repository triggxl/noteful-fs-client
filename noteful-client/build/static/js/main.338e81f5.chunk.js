(this["webpackJsonpnoteful-react-app"]=this["webpackJsonpnoteful-react-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),l=n.n(o),c=n(3),u=(n(26),n(20)),d=n(8),i=n(9),s=n(11),m=n(10),f=n(1),h=r.a.createContext({notes:[],folders:[],handledeleteNote:function(){},handleAddNote:function(){},handleAddFolder:function(){}});var v=function(e){return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement("div",{className:"displayFolderLinks"},e.folders.map((function(e,t){var n="/folders/".concat(e.id);return r.a.createElement("section",{key:t,className:"folderBtn"},r.a.createElement(c.b,{to:n},e.name))})),r.a.createElement(c.b,{to:"/add-folders"},r.a.createElement("button",{className:"addFolderBtn"},"Add Folder")))}))},N=function(e){var t=e.notes;return r.a.createElement(h.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"individualNoteData"},t.map((function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("h4",null,"Name:"),t.name,r.a.createElement("h4",null,"Last modified on:"),t.modified,r.a.createElement(c.b,{to:"/"},r.a.createElement("button",{className:"deleteNoteBtn",onClick:function(t){return e.handleDeleteNote(t)}},"Delete")))}))),r.a.createElement(c.b,{to:"/add-notes"},r.a.createElement("button",{className:"allNotesBtn"},"AddNote")))}))};n(32);function E(){return r.a.createElement(h.Consumer,null,(function(e){return r.a.createElement("div",{className:"homePage"},r.a.createElement("section",{className:"mainFolderStyling"},r.a.createElement(v,{folders:e.folders})),r.a.createElement("section",{className:"mainNoteStyling"},r.a.createElement(N,{notes:e.notes})))}))}var p=function(e){var t=e.note,n=e.folder;return r.a.createElement(h.Consumer,null,(function(e){var a=e.handleDeleteNote;return r.a.createElement("div",null,r.a.createElement("div",{className:"individualNoteData"},r.a.createElement("h3",null,n.name),r.a.createElement("h4",null,"Name:"),t.name,r.a.createElement("h4",null,"Last modified on:"),t.modified,r.a.createElement("br",null),t.content,r.a.createElement("button",{onClick:a,className:"deleteNoteBtn"},"Delete")),r.a.createElement("div",null,r.a.createElement("button",null,"Go back")))}))},b=function(e,t){var n=e.find((function(e){return e.name===t}));return n||(n=e[0]),n},y=function(e){return r.a.createElement(h.Consumer,null,(function(t){var n=b(t.folders,e.folderId),a=t.notes.filter((function(t){return t.folderId===e.folderId}));return r.a.createElement("div",{key:t.folderId},r.a.createElement("h3",{className:""},n.name),a.map((function(e){return r.a.createElement("div",{className:"",key:e.id},r.a.createElement(c.b,{to:"/notes/".concat(e.id)},e.name),e.modified)})),r.a.createElement(c.b,{to:"/"},r.a.createElement("button",null,"Go back")))}))};function g(e){return e.message?r.a.createElement("div",{className:"error"},e.message):r.a.createElement(r.a.Fragment,null)}var C=n(7),k=n.n(C),j=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={noteName:{value:"",touched:!1},noteContent:{value:"",touched:!1},folderOptions:{value:"",touched:!1}},a.folderNameRef=r.a.createRef(),a}return Object(i.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=b(this.context.folders,this.state.folderOptions.value);this.context.handleAddNote(e,this.state.noteName.value,this.state.noteContent.value,t.id),this.props.history.push("/")}},{key:"updateNoteName",value:function(e){this.setState({noteName:{value:e,touched:!0}})}},{key:"updateNoteContent",value:function(e){this.setState({noteContent:{value:e,touched:!0}})}},{key:"updateFolderName",value:function(e){this.setState({folderOptions:{value:e}})}},{key:"validateNoteName",value:function(){var e=this.state.noteName.value;return 0===e.length?"Note name is required":e.length<3?"Must be at least 3 characters":void 0}},{key:"validateNoteContent",value:function(){if(""===this.state.noteContent.value)return"Note must contain some content"}},{key:"componentDidMount",value:function(){this.folderNameRef.current.focus()}},{key:"render",value:function(){var e=this;return console.log(this.state.noteContent),r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/"},"Go back"),r.a.createElement("form",{className:"newNoteForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("h2",null,"Create a Note"),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{ref:e.folderNameRef,name:"noteName",type:"text",value:e.state.noteName.value,onChange:function(t){return e.updateNoteName(t.target.value)}}),e.state.noteName.touched&&r.a.createElement(g,{message:e.validateNoteName()}),r.a.createElement("label",null,"Content:"),r.a.createElement("input",{type:"text",name:"nameDescription",id:"nameDescription","aria-required":"true","aria-describedby":"nameDescription","aria-label":"Enter note description",ref:e.tooShort,value:e.state.noteContent.value,onChange:function(t){return e.updateNoteContent(t.target.value)},"aria-invalid":e.tooShort}),e.state.noteContent.touched&&r.a.createElement(g,{message:e.validateNoteContent()}),r.a.createElement("label",null,"Folder:"),r.a.createElement("select",{name:"noteFolder",value:e.state.folderOptions.value,onChange:function(t){return e.updateFolderName(t.target.value)}},t.folders.map((function(e){return r.a.createElement("option",null,e.name)}))),e.state.touched&&r.a.createElement(g,{message:e.validateNoteName()}),r.a.createElement("button",{type:"submit",className:"AddNewNoteBtn",disabled:e.validateNoteName()||e.validateNoteContent()},"Add Note")))}))}}]),n}(r.a.Component);j.contextType=h,j.defaultProps={noteName:k.a.string.isRequired,noteContent:k.a.isRequired};var O=Object(f.g)(j),S=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.context.handleAddFolder(e),a.props.history.push("/")},a.updateName=function(e){a.setState({folderName:{value:e,touched:!0}})},a.validateName=function(){if(0===a.state.folderName.value.length)return"Folder name is required"},a.state={folderName:{value:"",touched:!1}},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/"},"Go back"),r.a.createElement("form",{className:"newFolderForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("h2",null,"Create a Folder"),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{name:"folderName",type:"text",value:e.state.folderName.value,onChange:function(t){return e.updateName(t.target.value)}}),e.state.folderName.touched&&r.a.createElement(g,{message:e.validateName()}),r.a.createElement("button",{className:"AddNewFolderBtn"},"Add Folder")))}))}}]),n}(a.Component);S.contextType=h,S.defaultProps={name:k.a.string};var F=Object(f.g)(S),D=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(i.a)(n,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Page could not be displayed at this time"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component),A="https://thawing-citadel-11081.herokuapp.com",w=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={folders:[],notes:[]},e.handleDeleteNote=function(t){for(var n=e.state.notes,a=-1,r=0;r<n.length;r++)n[r].id===t&&(a=r);n.splice(a,1),e.setState({notes:n})},e.handleAddFolder=function(t){t.preventDefault();var n={name:t.target.elements.folderName.value};fetch("".concat(A,"/folders"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(t){return e.setState({error:t})})).then((function(t){return e.setState({folders:[].concat(Object(u.a)(e.state.folders),[t])})}))},e.handleAddNote=function(t,n,a,r){t.preventDefault();var o={name:n,content:a,folderId:r};fetch("".concat(A,"/notes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(o)}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(t){return e.setState({error:t})})).then((function(t){e.setState({notes:e.state.notes.concat(t)})}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(A,"/folders"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){return e.setState({folders:t})})),fetch("".concat(A,"/notes"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){e.setState({notes:t})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.folders,a=t.notes,o=this.handleDeleteNote,l=this.handleAddFolder,u=this.handleAddNote;return r.a.createElement(D,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"notefulHeader"},r.a.createElement(c.b,{to:"/"},"Noteful")),r.a.createElement("main",null,r.a.createElement(h.Provider,{value:{folders:n,notes:a,handleDeleteNote:o,handleAddFolder:l,handleAddNote:u}},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(f.b,{path:"/add-folders",component:F}),r.a.createElement(f.b,{path:"/folders/:id",render:function(e){return r.a.createElement(y,{routeProps:e,folderId:e.match.params.id})}}),r.a.createElement(f.b,{path:"/add-notes",component:O}),r.a.createElement(f.b,{path:"/notes/:id",render:function(t){var n=e.state.notes.find((function(e){return t.match.params.id===e.id}));if(null==n)return r.a.createElement(f.a,{to:"/"});var a=e.state.folders.find((function(e){return n.folderId===e.id}));return r.a.createElement(p,{note:n,content:n.content,folder:a,handleDeleteNote:e.handleDeleteNote,handleAddNote:e.handleAddNote})}}))))))}}]),n}(r.a.Component);w.contextType=h;var x=w;l.a.render(r.a.createElement(c.a,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.338e81f5.chunk.js.map